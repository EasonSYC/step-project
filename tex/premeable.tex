\usepackage{tocloft}
\renewcommand{\cftchapnumwidth}{3em}
\renewcommand{\cftsecnumwidth}{4em}
\renewcommand{\cftsubsecnumwidth}{5em}

\titleformat{\chapter}[display]{\bfseries\Huge}{}{0em}{}
\titleformat{\section}[block]{\bfseries\Large}{\thechapter}{1em}{}
\titleformat{\subsection}[block]{\bfseries\large}{\thesection}{1em}{}

\usepackage[tight]{minitoc}
\nomtcrule

\setcounter{tocdepth}{1}

\renewcommand{\mtctitle}{}

\newcommand{\SubOne}[1]{\numexpr#1-1}

\newcommand{\Year}[1]{
    \setcounter{chapter}{\SubOne{#1}}
    \chapter{Year #1}
    % \etocsetnexttocdepth{1}
    % \localtableofcontents
    \thispagestyle{chapterOnly}
    \minitoc
}
\newcommand{\Paper}[1]{
    \clearpage
    \setcounter{section}{\SubOne{#1}}
    \section{Paper #1}
    % \etocsetnexttocdepth{2}
    % \localtableofcontents
}
\newcommand{\Question}[1]{
    \clearpage
    \setcounter{subsection}{\SubOne{#1}}
    \subsection{Question #1}
}

\newcommand{\WorkInProgress}{
    Work in progress.
}

\newcommand{\Title}{STEP Project}
\newcommand{\SubTitle}{A Solution Booklet to STEP questions}
\newcommand{\Author}{Eason Shao}
\newcommand{\Date}{\today}

% Page Layout
\newcommand{\SetFooter}{
    \renewcommand{\footrulewidth}{0.4pt}
    \lfoot{\Author}
    \rfoot{Page \thepage\space of \pageref*{LastPage}}
}

\fancypagestyle{footerOnly}{
    \fancyhf{}
    \renewcommand{\headrulewidth}{0pt}
    \SetFooter
}

\fancypagestyle{chapterOnly}{
    \fancyhf{}
    \renewcommand{\headrulewidth}{0.4pt}
    \lhead{\Title}
    \rhead{\leftmark}
    \SetFooter
}

\fancypagestyle{fancy}{
    \fancyhf{}
    \renewcommand{\headrulewidth}{0.4pt}
    \lhead{\Title}
    \rhead{\leftmark\space\rightmark}
    \SetFooter
}